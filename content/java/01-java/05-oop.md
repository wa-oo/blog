> Java 的核心思想就是 OOP

## 1、初识面向对象

### 面向过程 & 面向对象

- 面向过程思想：
	- 步骤清晰简单，第一步做什么，第二步做什么......
	- 面对过程适合处理一些较为简单的问题
- 面向对象思想：
	- 物以类聚，`分类`的思维模式，思考问题首先会解决问题需要哪些分类，然后对这些分类进行单独思考，最后才对莫个分类下的细节进行面向过程的思索。
	- 面向对象适合处理复杂的问题，适合处理需要多人协作的问题！

**对于描述复杂的事物，为了从宏观上把握、从整体上合理分析，我们需要使用面向对象的思路来分析整个系统。但是，具体到微观操作，仍然需要面向过程的思路去处理。**

### 什么是面向对象

- 面向对象编程（Object Oriented Programming，OOP）
- 面向对象编程的本质：`以类的方式组织代码，以对象的组织（封装）数据`。
- 抽象
- 三大特性：
	- 封装
	- 继承
	- 多态
- 从认识论角度考虑是现有对象后有类。对象，是具体的事物。类，是抽象的，是对对象的抽象
- 从代码运行角度考虑是先有类后有对象。类是对象的模版 

### 类与对象的关系

- `类是一种抽象的数据类型，它是对某一类事物整体描述/定义，但是并不能代表某一个具体的事物。`
	- 动物、植物、手机、电脑......
	- Person 类、Pet 类、Car 类等，这些类都是用来描述/定义某一类具体的事物应该具备的特点和行为
- `对象是抽象概念的具体实例`
	- 张三就是人的一个具体实例，张三家里的旺财就是狗的一个具体实例。
	- 能够体现出特点，展现出功能的是具体的实例，而不是一个抽象的概念。

## 2、方法回顾和加深

- 方法的定义
	- 修饰符
	- 返回类型
	- `break：跳出 switch，结束循环。return：结束方法，返回一个结果，跟方法返回值类型一样`
	- 方法名：注意规范，见名知意
	- 参数列表：（参数类型，参数名）...要放在形参的后面
	- 异常抛出
- 方法的调用
	- 静态方法
	- 非静态方法
	- 形参和实参
	- 值传递和引用传递
	- this 关键字

## 3、对象的创建与初始化

> 构造器必须要掌握

- `使用 new 关键字创建对象`
- 使用 new 关键字创建的时候，除了分配内存空间之外，还会给创建好的对象进行默认的初始化及对类中构造器的调用
- 类中的构造器也称为构造方法，是在进行创建对象的时候必须要调用的。并且构造器有两个特点：
	- 必须和类的名字相同
	- 必须没有返回类型，也不能写 void

```java
// 类
public class Student {
  // 属性
  String name;
  int age;
  
  // 方法
  public void study() {
    System.out.println(this.name + "在学习");
  }
}

// 主方法
public static void main(String[] args) {
  // 类：抽象的，需要实例化
  // 类实例化后会返回一个自己的对象
  // student 对象就是一个 Student 类的具体实例
  Student student = new Student();
}
```

- 构造器作用：
	- new 本质在调用构造器
	- 初始化对象的值
- 注意点：
	- 定义有参构造之后，如果想使用无参构造，显示的定义一个无参构造

```java
public class Person {
  // 一个类即使什么都不写，它也会存在一个构造器方法
  String name;
  
  // 实例化初始值
  // 使用 new 关键字，本质是在调用构造器
  public Person(){
    this.name = "Allen";
  }
  
  // 有参构造，一旦定义了有参构造，无参构造必须显示定义
  public Person(String name) {
    this.name = name;
  }
}
```

### new 对象内存分析

![image-20210327175916234](https://cdn.jsdelivr.net/gh/wangtao-Allen/images//img/image-20210327175916234.png)

## 4、面向对象三大特性

### 封装

- 该露的露，该藏的藏
	- 程序设计要追求`"高内聚，低耦合"`。高内聚：类的内部数据操作细节自己完成，不允许外部干涉；低耦合：仅暴露少量的方法给外部使用。
- 封装（数据的隐藏）
	- 通常，应禁止直接访问一个对象中数据的实际表示，而应通过操作接口来访问，这称为信息隐藏
- `属性私有，get/set`
- 作用：
	- 提高代码的安全性，保护数据
	- 隐藏代码的实现细节
	- 统一接口
	- 增加系统可维护

### 继承

- 继承的本质是对一批类的抽象，从而实现对现实世界更好的建模
- ``extends`` 的意思是“扩展”。子类是父类的扩展
- Java 中类只能单继承，没有多继承



- 继承是类和类之间的一种关系，除此之外，类和类之间的关系还有依赖、组合、聚合等
- 继承关系的两个类，一个是子类（派生类），一个是父类（基类）。子类继承父类，使用关键字 extends 来表示
- 子类和父类之间，从意义上讲应该具有“is a”的关系



- object 类
- super
	- 私有的无法被继承
	- 构造函数：默认先调用父类构造器，必须在构造方法的第一个
	- 必须只能出现在子类的方法或构造方法中
	- super 和 this 不能同时调用构造方法。this：本身调用者这个对象，没有继承也可以使用；super：代表父类对象的应用，只能在继承条件才可以使用。
	- this()：本类的构造；super()：父类的构造
- ``方法重写：需要有继承关系，子类重写父类的方法``
	- 方法名必须相同
	- 参数列表必须相同（否则就是重载）
	- 修饰符：范围可以扩大，但不能缩小
	- 抛出的异常：范围可以被缩小，但不能扩大
	- 重写和 static 无关；ClassNotFoundException --> Exception
- 为什么需要重写：
	- 父类的功能，子类不一定需要，或者不能满足



### 多态

- 即同一方法可以根据发送对象的不同而采用多种不同的行为方式
- 一个对象的实际类型是确定的，但可以指向对象引用的类型有很多



- 多态存在的条件
	- 有继承关系
	- 子类重写父类方法
	- 父类引用指向子类对象



- 注意：多态是方法的多态，属性没有多态性。

- ``instanceof``

  ![image-20210329003303749](https://cdn.jsdelivr.net/gh/wangtao-Allen/images//img/image-20210329003303749.png)

  小结：

  1. 父类引用指向子类的对象
  2. 把子类转为父类，向上转型
  3. 把父类转为子类，向下转型，需要强制转换
  4. 方便方法的调用，减少重复代的代码

## 5、抽象类和接口

- ``abstract`` 修饰符可以用来修饰方法也可以修饰类，如果修饰方法，那么该方法就是抽象方法；如果修饰类，那么该类就是抽象类
- 抽象类中可以没有抽象方法，但是有抽象方法的类一定要声明为抽象类



- 抽象类，不能使用 new 关键字来创建对象，它是用来让子类继承的
- 抽象方法，只是方法的声明，没有方法的实现，它是用来让子类实现的



- 子类继承抽象类，那么就必须要实现抽象类没有实现的抽象方法，否则该子类也要声明为抽象类



### 接口

- 普通类：只有具体实现
- 抽象类：具体实现和规范（抽象方法）都有
- 接口：只有规范



- 接口就是规范，定义的是一组规则，体现了现实世界中“如果你是...则必须能...“的思想。
- 接口的本质是契约，就像法律一样，制定好后大家都遵守
- OO 的精髓，是对对象的抽象，最能体现这一点的就是接口。``设计模式所研究的，实际上就是如何合理的去抽象``



## 6、内部类

- 内部类就是在一个类的内部定义一个类



- 成员内部类
- 静态内部类
- 局部内部类
- 匿名内部类

 ![image-20210329191422998](https://cdn.jsdelivr.net/gh/wangtao-Allen/images//img/image-20210329191422998.png)

一个 Java 类中可以有多个 class 类，但是只能有一个 public class 类

